# Версионирование

## Проблема

При разработке и поддержке API для вашего приложения рано или поздно возникает необходимость внесения изменений, которые могут нарушить совместимость с предыдущими версиями. Это может привести к тому, что старые клиенты не смогут корректно взаимодействовать с сервером.

## Решение

В NestJS поддержка версионирования встроена и позволяет аккуратно управлять изменениями в API. Вот несколько способов, как можно настроить версионирование в вашем приложении.

### Подключение

Чтобы подключить версионирование, нужно в `main.ts` определить следующие настройки:

###typescript
// main.ts
import { VersioningType } from "@nestjs/common";

// ...
app.enableVersioning({
type: VersioningType.URI,
});
// ...

###

В этом случае мы подключаем версионирование через URL. Давайте определим endpoint'ы:

###typescript
import { Controller, Get, Version } from "@nestjs/common";

@Controller()
export class CatsController {
@Version("1")
@Get("cats")
findAllV1(): string {
return "This action returns all cats for version 1";
}

@Version("2")
@Get("cats")
findAllV2(): string {
return "This action returns all cats for version 2";
}
}

###

Как видно на примере выше, `findAllV1` будет доступен по ссылке `/v1/cats`, а `findAllV2` будет доступен по ссылке `/v2/cats`.

Способы версионирования многочисленны, и вы даже можете создавать свои собственные способы версионирования. Об этом всем написано в официальной [документации](https://docs.nestjs.com/techniques/versioning).

## Заключение

Версионирование API — это важная часть разработки, которая позволяет вам управлять изменениями и поддерживать стабильную работу вашего приложения. NestJS предоставляет гибкие механизмы для реализации версионирования, будь то через URL, заголовки или query-параметры. Это позволяет вам выбирать наиболее подходящий подход для вашего проекта.
